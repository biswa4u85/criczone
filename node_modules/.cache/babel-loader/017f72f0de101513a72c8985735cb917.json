{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { apiPostCall, fileUpload } from '../utility/site-apis';\nconst initialState = {\n  isFetching: false,\n  error: null,\n  templates: []\n};\nexport const getTemplates = createAsyncThunk('auth/getTemplates', async (params, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n  let urls = `doctype=Chat+Template&filters=%7B%22brand%22%3A%22${params}%22%7D&limit_page_length=None&fields=%5B%22name%22%2C%22brand%22%2C%22template_message%22%5D&cmd=frappe.client.get_list`;\n  let response = await apiPostCall('/', urls);\n\n  if (response) {\n    return response;\n  }\n});\nexport const counterSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    setLoginRedirectUrl: (state, action) => {\n      state.loginRedirectUrl = action.payload;\n    },\n    logout: (state, action) => {\n      state.user = null;\n      state.token = null;\n    }\n  },\n  extraReducers: {\n    // Get Templates\n    [getTemplates.pending]: (state, action) => {\n      state.isFetching = true;\n      state.error = null;\n    },\n    [getTemplates.rejected]: (state, action) => {\n      state.isFetching = false;\n      state.error = action.payload.message;\n    },\n    [getTemplates.fulfilled]: (state, action) => {\n      state.isFetching = false;\n      state.error = null;\n      state.templates = action.payload;\n    }\n  }\n});\nexport const {\n  logout,\n  setLoginRedirectUrl\n} = counterSlice.actions;\nexport default counterSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","apiPostCall","fileUpload","initialState","isFetching","error","templates","getTemplates","params","rejectWithValue","urls","response","counterSlice","name","reducers","setLoginRedirectUrl","state","action","loginRedirectUrl","payload","logout","user","token","extraReducers","pending","rejected","message","fulfilled","actions","reducer"],"sources":["/Users/avijit/Sites/frappe-news/src/store/AuthRedux.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { apiPostCall, fileUpload } from '../utility/site-apis'\n\nconst initialState = {\n  isFetching: false,\n  error: null,\n  templates: []\n}\n\nexport const getTemplates = createAsyncThunk(\n  'auth/getTemplates',\n  async (params, { rejectWithValue }) => {\n    let urls = `doctype=Chat+Template&filters=%7B%22brand%22%3A%22${params}%22%7D&limit_page_length=None&fields=%5B%22name%22%2C%22brand%22%2C%22template_message%22%5D&cmd=frappe.client.get_list`;\n    let response = await apiPostCall('/', urls)\n    if (response) {\n      return response\n    }\n  }\n)\n\n\nexport const counterSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    setLoginRedirectUrl: (state, action) => {\n      state.loginRedirectUrl = action.payload\n    },\n    logout: (state, action) => {\n      state.user = null\n      state.token = null\n    },\n  },\n  extraReducers: {\n    // Get Templates\n    [getTemplates.pending]: (state, action) => {\n      state.isFetching = true\n      state.error = null\n    },\n    [getTemplates.rejected]: (state, action) => {\n      state.isFetching = false\n      state.error = action.payload.message\n    },\n    [getTemplates.fulfilled]: (state, action) => {\n      state.isFetching = false\n      state.error = null\n      state.templates = action.payload\n    },\n  }\n\n})\n\nexport const { logout, setLoginRedirectUrl } = counterSlice.actions\nexport default counterSlice.reducer\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,SAASC,WAAT,EAAsBC,UAAtB,QAAwC,sBAAxC;AAEA,MAAMC,YAAY,GAAG;EACnBC,UAAU,EAAE,KADO;EAEnBC,KAAK,EAAE,IAFY;EAGnBC,SAAS,EAAE;AAHQ,CAArB;AAMA,OAAO,MAAMC,YAAY,GAAGR,gBAAgB,CAC1C,mBAD0C,EAE1C,OAAOS,MAAP,WAAuC;EAAA,IAAxB;IAAEC;EAAF,CAAwB;EACrC,IAAIC,IAAI,GAAI,qDAAoDF,MAAO,yHAAvE;EACA,IAAIG,QAAQ,GAAG,MAAMV,WAAW,CAAC,GAAD,EAAMS,IAAN,CAAhC;;EACA,IAAIC,QAAJ,EAAc;IACZ,OAAOA,QAAP;EACD;AACF,CARyC,CAArC;AAYP,OAAO,MAAMC,YAAY,GAAGZ,WAAW,CAAC;EACtCa,IAAI,EAAE,MADgC;EAEtCV,YAFsC;EAGtCW,QAAQ,EAAE;IACRC,mBAAmB,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACtCD,KAAK,CAACE,gBAAN,GAAyBD,MAAM,CAACE,OAAhC;IACD,CAHO;IAIRC,MAAM,EAAE,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MACzBD,KAAK,CAACK,IAAN,GAAa,IAAb;MACAL,KAAK,CAACM,KAAN,GAAc,IAAd;IACD;EAPO,CAH4B;EAYtCC,aAAa,EAAE;IACb;IACA,CAAChB,YAAY,CAACiB,OAAd,GAAwB,CAACR,KAAD,EAAQC,MAAR,KAAmB;MACzCD,KAAK,CAACZ,UAAN,GAAmB,IAAnB;MACAY,KAAK,CAACX,KAAN,GAAc,IAAd;IACD,CALY;IAMb,CAACE,YAAY,CAACkB,QAAd,GAAyB,CAACT,KAAD,EAAQC,MAAR,KAAmB;MAC1CD,KAAK,CAACZ,UAAN,GAAmB,KAAnB;MACAY,KAAK,CAACX,KAAN,GAAcY,MAAM,CAACE,OAAP,CAAeO,OAA7B;IACD,CATY;IAUb,CAACnB,YAAY,CAACoB,SAAd,GAA0B,CAACX,KAAD,EAAQC,MAAR,KAAmB;MAC3CD,KAAK,CAACZ,UAAN,GAAmB,KAAnB;MACAY,KAAK,CAACX,KAAN,GAAc,IAAd;MACAW,KAAK,CAACV,SAAN,GAAkBW,MAAM,CAACE,OAAzB;IACD;EAdY;AAZuB,CAAD,CAAhC;AA+BP,OAAO,MAAM;EAAEC,MAAF;EAAUL;AAAV,IAAkCH,YAAY,CAACgB,OAArD;AACP,eAAehB,YAAY,CAACiB,OAA5B"},"metadata":{},"sourceType":"module"}