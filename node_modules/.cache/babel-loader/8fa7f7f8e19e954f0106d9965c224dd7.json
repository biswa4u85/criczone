{"ast":null,"code":"import { toast } from 'react-toastify';\nimport Config from \"../common/Config\";\nimport axios from 'axios';\nconst axiosAPI = axios.create({\n  baseURL: Config.apiURL,\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n    'Authorization': Config.token\n  }\n});\nexport function apiPostCall(path, params) {\n  return axiosAPI.post(path, params).then(response => {\n    var _response$data;\n\n    return response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message;\n  }).catch(error => {\n    let errors = null;\n\n    if (error.response) {\n      errors = error.response;\n    } else if (error.request) {\n      errors = error.request;\n    } else {\n      errors = error.message;\n    }\n\n    toast.error(errors.statusText);\n  });\n}\nexport function fileUpload(file) {\n  let formData = new FormData();\n  formData.append('file', file);\n  formData.append('is_private', '0');\n  formData.append('folder', 'Home/Attachments');\n  formData.append('doctype', 'Web Page');\n  return axiosAPI.post('/api/method/upload_file', formData).then(response => {\n    return response.data;\n  }).catch(error => {\n    let errors = null;\n\n    if (error.response) {\n      errors = error.response;\n    } else if (error.request) {\n      errors = error.request;\n    } else {\n      errors = error.message;\n    }\n\n    toast.error(errors.statusText);\n  });\n}","map":{"version":3,"names":["toast","Config","axios","axiosAPI","create","baseURL","apiURL","headers","token","apiPostCall","path","params","post","then","response","data","message","catch","error","errors","request","statusText","fileUpload","file","formData","FormData","append"],"sources":["/Users/avijit/Sites/frappe-news/src/utility/site-apis.js"],"sourcesContent":["import { toast } from 'react-toastify';\r\nimport Config from \"../common/Config\";\r\nimport axios from 'axios';\r\n\r\n\r\nconst axiosAPI = axios.create({\r\n  baseURL: Config.apiURL,\r\n  headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8', 'Authorization': Config.token }\r\n});\r\n\r\nexport function apiPostCall(path, params) {\r\n  return axiosAPI.post(path, params)\r\n    .then((response) => {\r\n      return response?.data?.message\r\n    })\r\n    .catch((error) => {\r\n      let errors = null\r\n      if (error.response) {\r\n        errors = error.response\r\n      } else if (error.request) {\r\n        errors = error.request\r\n      } else {\r\n        errors = error.message\r\n      }\r\n      toast.error(errors.statusText);\r\n    });\r\n}\r\n\r\nexport function fileUpload(file) {\r\n  let formData = new FormData();\r\n  formData.append('file', file);\r\n  formData.append('is_private', '0');\r\n  formData.append('folder', 'Home/Attachments');\r\n  formData.append('doctype', 'Web Page');\r\n  return axiosAPI.post('/api/method/upload_file', formData)\r\n    .then((response) => {\r\n      return response.data\r\n    })\r\n    .catch((error) => {\r\n      let errors = null\r\n      if (error.response) {\r\n        errors = error.response\r\n      } else if (error.request) {\r\n        errors = error.request\r\n      } else {\r\n        errors = error.message\r\n      }\r\n      toast.error(errors.statusText);\r\n    });\r\n\r\n\r\n}"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAN,CAAa;EAC5BC,OAAO,EAAEJ,MAAM,CAACK,MADY;EAE5BC,OAAO,EAAE;IAAE,gBAAgB,kDAAlB;IAAsE,iBAAiBN,MAAM,CAACO;EAA9F;AAFmB,CAAb,CAAjB;AAKA,OAAO,SAASC,WAAT,CAAqBC,IAArB,EAA2BC,MAA3B,EAAmC;EACxC,OAAOR,QAAQ,CAACS,IAAT,CAAcF,IAAd,EAAoBC,MAApB,EACJE,IADI,CACEC,QAAD,IAAc;IAAA;;IAClB,OAAOA,QAAP,aAAOA,QAAP,yCAAOA,QAAQ,CAAEC,IAAjB,mDAAO,eAAgBC,OAAvB;EACD,CAHI,EAIJC,KAJI,CAIGC,KAAD,IAAW;IAChB,IAAIC,MAAM,GAAG,IAAb;;IACA,IAAID,KAAK,CAACJ,QAAV,EAAoB;MAClBK,MAAM,GAAGD,KAAK,CAACJ,QAAf;IACD,CAFD,MAEO,IAAII,KAAK,CAACE,OAAV,EAAmB;MACxBD,MAAM,GAAGD,KAAK,CAACE,OAAf;IACD,CAFM,MAEA;MACLD,MAAM,GAAGD,KAAK,CAACF,OAAf;IACD;;IACDhB,KAAK,CAACkB,KAAN,CAAYC,MAAM,CAACE,UAAnB;EACD,CAdI,CAAP;AAeD;AAED,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0B;EAC/B,IAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;EACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBH,IAAxB;EACAC,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8B,GAA9B;EACAF,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,kBAA1B;EACAF,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2B,UAA3B;EACA,OAAOvB,QAAQ,CAACS,IAAT,CAAc,yBAAd,EAAyCY,QAAzC,EACJX,IADI,CACEC,QAAD,IAAc;IAClB,OAAOA,QAAQ,CAACC,IAAhB;EACD,CAHI,EAIJE,KAJI,CAIGC,KAAD,IAAW;IAChB,IAAIC,MAAM,GAAG,IAAb;;IACA,IAAID,KAAK,CAACJ,QAAV,EAAoB;MAClBK,MAAM,GAAGD,KAAK,CAACJ,QAAf;IACD,CAFD,MAEO,IAAII,KAAK,CAACE,OAAV,EAAmB;MACxBD,MAAM,GAAGD,KAAK,CAACE,OAAf;IACD,CAFM,MAEA;MACLD,MAAM,GAAGD,KAAK,CAACF,OAAf;IACD;;IACDhB,KAAK,CAACkB,KAAN,CAAYC,MAAM,CAACE,UAAnB;EACD,CAdI,CAAP;AAiBD"},"metadata":{},"sourceType":"module"}